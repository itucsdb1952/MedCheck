

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developer Guide &mdash; ITUCSDB1952 0.1 alpha documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="User Guide" href="../user/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ITUCSDB1952
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#database-design">Database Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-implemented-by-furkan">Code implemented by Furkan</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-implemented-by-emre">Code implemented by Emre</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ITUCSDB1952</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Developer Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="developer-guide">
<h1>Developer Guide<a class="headerlink" href="#developer-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="database-design">
<h2>Database Design<a class="headerlink" href="#database-design" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default">
<img alt="../_images/er.png" src="../_images/er.png" />
</div>
</div>
<div class="section" id="code-implemented-by-furkan">
<h2>Code implemented by Furkan<a class="headerlink" href="#code-implemented-by-furkan" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">import</span> <span class="nn">psycopg2</span> <span class="k">as</span> <span class="nn">dbapi2</span>
<span class="kn">from</span> <span class="nn">settings</span> <span class="kn">import</span> <span class="n">db_url</span><span class="p">,</span> <span class="n">SQL_DIR</span>


<span class="k">def</span> <span class="nf">read_sql_from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SQL_DIR</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;windows-1254&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
        <span class="n">content</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="o">+</span> <span class="s2">&quot;;&quot;</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">content</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">content</span>


<span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connected...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

                <span class="n">drop_statements</span> <span class="o">=</span> <span class="n">read_sql_from_file</span><span class="p">(</span><span class="s1">&#39;drop_tables.sql&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">drop_statements</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Drop tables...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

                <span class="n">create_statements</span> <span class="o">=</span> <span class="n">read_sql_from_file</span><span class="p">(</span><span class="s1">&#39;create_tables.sql&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">create_statements</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Create tables...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

                <span class="n">add_place_statements</span> <span class="o">=</span> <span class="n">read_sql_from_file</span><span class="p">(</span><span class="s1">&#39;places.sql&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">add_place_statements</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Places...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

                <span class="n">add_hospital_statements</span> <span class="o">=</span> <span class="n">read_sql_from_file</span><span class="p">(</span><span class="s1">&#39;hospitals.sql&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">add_hospital_statements</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hospitals...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

                <span class="n">add_human_statements</span> <span class="o">=</span> <span class="n">read_sql_from_file</span><span class="p">(</span><span class="s1">&#39;humans.sql&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">add_human_statements</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Humans...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

                <span class="n">add_doctor_statements</span> <span class="o">=</span> <span class="n">read_sql_from_file</span><span class="p">(</span><span class="s1">&#39;doctors.sql&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">add_doctor_statements</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
                        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Doctors...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">,</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">Error</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error while connecting to PostgreSQL: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error</span><span class="p">),</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># closing database connection.</span>
        <span class="k">if</span> <span class="n">connection</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initializing...&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="n">initialize</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span>
</pre></div>
</div>
<p>Python file for initializing database.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">DSN_efk</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s2">&quot;postgres&quot;</span><span class="p">,</span>  <span class="c1"># DSN for Emre Faruk Kolaç</span>
           <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
           <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="s2">&quot;5432&quot;</span><span class="p">,</span>
           <span class="s1">&#39;database&#39;</span><span class="p">:</span> <span class="s2">&quot;hebe2&quot;</span>
           <span class="p">}</span>

<span class="n">DSN_fg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s2">&quot;postgres&quot;</span><span class="p">,</span>  <span class="c1"># DSN for Furkan Güvenç</span>
          <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="s2">&quot;1234&quot;</span><span class="p">,</span>
          <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
          <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="s2">&quot;5432&quot;</span><span class="p">,</span>
          <span class="s1">&#39;database&#39;</span><span class="p">:</span> <span class="s2">&quot;hebe2&quot;</span>
          <span class="p">}</span>

<span class="n">fg_connection_url</span> <span class="o">=</span> <span class="s2">&quot;dbname=</span><span class="si">{}</span><span class="s2"> user=</span><span class="si">{}</span><span class="s2"> password=</span><span class="si">{}</span><span class="s2"> host=</span><span class="si">{}</span><span class="s2"> port=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">DSN_fg</span><span class="p">[</span><span class="s1">&#39;database&#39;</span><span class="p">],</span> <span class="n">DSN_fg</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span>
                                                                           <span class="n">DSN_fg</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">],</span> <span class="n">DSN_fg</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span>
                                                                           <span class="n">DSN_fg</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">])</span>

<span class="n">efk_connection_url</span> <span class="o">=</span> <span class="s2">&quot;dbname=</span><span class="si">{}</span><span class="s2"> user=</span><span class="si">{}</span><span class="s2"> password=</span><span class="si">{}</span><span class="s2"> host=</span><span class="si">{}</span><span class="s2"> port=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">DSN_efk</span><span class="p">[</span><span class="s1">&#39;database&#39;</span><span class="p">],</span> <span class="n">DSN_efk</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span>
                                                                            <span class="n">DSN_efk</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">],</span> <span class="n">DSN_efk</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span>
                                                                            <span class="n">DSN_efk</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">])</span>
<span class="n">HOME_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>  <span class="c1"># home url of pc</span>
<span class="n">db_url</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">if</span> <span class="s1">&#39;furkan&#39;</span> <span class="ow">in</span> <span class="n">HOME_PATH</span><span class="p">:</span>  <span class="c1"># Pc of Furkan Güvenç</span>
        <span class="n">db_url</span> <span class="o">=</span> <span class="n">fg_connection_url</span>
    <span class="k">elif</span> <span class="s1">&#39;faruk&#39;</span> <span class="ow">in</span> <span class="n">HOME_PATH</span><span class="p">:</span>  <span class="c1"># Pc of Emre Faruk Kolaç</span>
        <span class="n">db_url</span> <span class="o">=</span> <span class="n">efk_connection_url</span>
    <span class="k">elif</span> <span class="s1">&#39;app&#39;</span> <span class="ow">in</span> <span class="n">HOME_PATH</span><span class="p">:</span>  <span class="c1"># Heroku</span>
        <span class="n">db_url</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;DATABASE_URL&quot;</span><span class="p">)</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Usage: DATABASE_URL=url python dbinit.py&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">#  postgres//user:pw@host:port/database</span>
<span class="n">SQL_DIR</span> <span class="o">=</span> <span class="s2">&quot;sqls&quot;</span>
</pre></div>
</div>
<p>/settings.py file makes required connections to database and runs “sqls” file which creates the database tables.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">views</span> <span class="kn">import</span> <span class="n">views</span><span class="p">,</span> <span class="n">functions</span><span class="p">,</span> <span class="n">ajax</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\xe7</span><span class="s1">x</span><span class="se">\xd2\xd3\x02</span><span class="s1">8</span><span class="se">\xb1\xf1</span><span class="s1">5</span><span class="se">\xb1</span><span class="s1">?</span><span class="se">\xc1\x8d\xa9\xda</span><span class="s1">z&#39;</span>

<span class="c1"># VIEWS</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/home&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">home_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/places&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">admin_places_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/hospitals&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">admin_hospitals_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/hospital_patient&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">hospital_patient_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">login_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/register&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">register_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/humans&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">admin_humans_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/how_to_use&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">how_to_use_page</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/403&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">forbidden_403_page</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/my_history&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">views</span><span class="o">.</span><span class="n">user_history_page</span><span class="p">)</span>

<span class="c1"># FUNCTIONS</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/add_place&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">add_place</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/del_place/&lt;int:place_id&gt;&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">del_place</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/update_place/&lt;int:place_id&gt;&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">update_place</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/upload_place&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">upload_place</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/add_hospital&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">add_hospital</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/del_hospital/&lt;int:hospital_id&gt;&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">del_hospital</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/update_hospital/&lt;int:hospital_id&gt;&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">update_hospital</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/add_human&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">add_human</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/del_human/&lt;string:human_tc&gt;&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">del_human</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/update_human/&lt;string:human_tc&gt;&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">update_human</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/add_history&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">add_history</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/delete_doctor&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">delete_doctor</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/add_person&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">add_person</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/login&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">login</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/logout&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">functions</span><span class="o">.</span><span class="n">logout</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>

<span class="c1"># AJAX</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/get_districts&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">ajax</span><span class="o">.</span><span class="n">get_districts_ajax</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/get_hospitals&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">ajax</span><span class="o">.</span><span class="n">get_hospitals_ajax</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/get_doctors&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">ajax</span><span class="o">.</span><span class="n">get_doctors_ajax</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/get_doctor_info&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">ajax</span><span class="o">.</span><span class="n">get_doctor_info_ajax</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/filter_place&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">ajax</span><span class="o">.</span><span class="n">filter_place_ajax</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/filter_hospital&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">ajax</span><span class="o">.</span><span class="n">filter_hospital_ajax</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s2">&quot;/filter_human&quot;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">ajax</span><span class="o">.</span><span class="n">filter_human_ajax</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Details will be given by furkan</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span> <span class="k">as</span> <span class="nn">dbapi2</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">settings</span> <span class="kn">import</span> <span class="n">db_url</span>
<span class="kn">from</span> <span class="nn">views</span> <span class="kn">import</span> <span class="n">helpers</span>



<span class="k">class</span> <span class="nc">Place</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">district</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">city</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">district</span> <span class="o">=</span> <span class="n">args</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;city&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;district&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">district</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;district&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;id&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distinct_city</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        READ</span>
<span class="sd">        It returns objects according to city and district</span>
<span class="sd">        :param:  distinct_city: cities are distinct?</span>
<span class="sd">        :return: list of objects</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">distinct_city</span><span class="p">:</span>
                        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT DISTINCT ON (city) ID, city, district FROM place &quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT ID, city, district FROM place &quot;</span>

                    <span class="n">query</span> <span class="o">+=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">check_where_exist</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">city</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;city LIKE &#39;%</span><span class="si">{}</span><span class="s2">%&#39;&quot;</span><span class="p">)</span>
                    <span class="n">query</span> <span class="o">+=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">check_where_exist</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">district</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;district LIKE &#39;%</span><span class="si">{}</span><span class="s2">%&#39;&quot;</span><span class="p">)</span>

                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
                    <span class="n">records</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>  <span class="c1"># records = [(id,city,district),(id2,city2,district2)]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">,</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">Error</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error while connecting to PostgreSQL: </span><span class="si">{error}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">place_objects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">id_</span><span class="p">,</span> <span class="n">city</span><span class="p">,</span> <span class="n">district</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
                <span class="n">place_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">Place</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="n">city</span><span class="p">,</span> <span class="n">district</span><span class="o">=</span><span class="n">district</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">id_</span><span class="p">))</span>  <span class="c1"># record = (id,city,district)</span>
            <span class="k">return</span> <span class="n">place_objects</span>

    <span class="k">def</span> <span class="nf">get_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        READ</span>
<span class="sd">        It returns object according to id</span>
<span class="sd">        :return: object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT ID, city, district FROM place WHERE id = </span><span class="si">{}</span><span class="s2">  &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
                    <span class="n">record</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">,</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">Error</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error while connecting to PostgreSQL: </span><span class="si">{error}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">place</span> <span class="o">=</span> <span class="n">Place</span><span class="p">(</span><span class="n">city</span><span class="o">=</span><span class="n">record</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">district</span><span class="o">=</span><span class="n">record</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">record</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># record = (id,city,district)</span>
                <span class="k">return</span> <span class="n">place</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        CREATE</span>
<span class="sd">        It saves the object to database</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO place(city, district) VALUES(&#39;</span><span class="si">{}</span><span class="s2">&#39;,&#39;</span><span class="si">{}</span><span class="s2">&#39;) RETURNING id&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">city</span><span class="p">,</span>
                                                                                                      <span class="bp">self</span><span class="o">.</span><span class="n">district</span><span class="p">)</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
                    <span class="n">record</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">,</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">Error</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error while connecting to PostgreSQL: </span><span class="si">{error}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">record</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        DELETE</span>
<span class="sd">        It deletes object in database according to id</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM place WHERE id = &#39;</span><span class="si">{}</span><span class="s2">&#39; &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error while connecting to PostgreSQL: </span><span class="si">{error}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">city</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">district</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        UPDATE</span>
<span class="sd">        It updates the object according to given parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">city</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">district</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">district</span> <span class="o">=</span> <span class="n">district</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
                    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;UPDATE place SET city=&#39;</span><span class="si">{}</span><span class="s2">&#39;, district=&#39;</span><span class="si">{}</span><span class="s2">&#39; WHERE (id=&#39;</span><span class="si">{}</span><span class="s2">&#39;) &quot;</span> \
                        <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">city</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">district</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error while connecting to PostgreSQL: </span><span class="si">{error}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">city</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">district</span><span class="p">)</span>
</pre></div>
</div>
<p>This is our place model. Models are our fundamental tool to make database management easily. It consist of 6 parts. First there is constructor then, get_objects, get_object, save, delete and update.</p>
<p>get_objects: returns objects according to city and district
get_object: returns object according to id
save: saves the object to database
delete: deletes object in database according to id
update: updates the object according to given parameters.</p>
<p>Models are also available for doctor, human, hospital, appointment and history. They all have the same attributes with place. Early parts of the models done collectively.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;title&gt;{% block title %}MedCheck{% endblock %}&lt;/title&gt;
    &lt;!-- Required meta tags --&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;


    &lt;link rel=&quot;stylesheet&quot; href=&quot;../static/bootstrap-4.3.1-dist/css/bootstrap.min.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.6.1/css/all.css&quot; integrity=&quot;sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP&quot; crossorigin=&quot;anonymous&quot;&gt;



&lt;/head&gt;
&lt;body&gt;

{% if user_auth == &#39;admin&#39; %}
{% include &#39;navbars/admin_navbar.html&#39; %}
    {% elif user_auth == &#39;doctor&#39; %}
    {% include &#39;navbars/doctor_navbar.html&#39; %}
    {% elif user_auth == &#39;normal&#39; %}
    {% include &#39;navbars/normal_navbar.html&#39; %}
{% endif %}



{% block body %}

{% endblock %}



&lt;!-- Optional JavaScript --&gt;
&lt;!-- jQuery first, then Popper.js, then Bootstrap JS --&gt;
&lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js&quot;
        integrity=&quot;sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1&quot;
        crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js&quot;
        integrity=&quot;sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM&quot;
        crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;../static/bootstrap-4.3.1-dist/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;

{% block JS %}

{% endblock %}


&lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<p>This is the base.html which other pages are extend from.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">nav</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar navbar-expand-lg navbar-dark bg-info&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-brand&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;static&#39;, filename = &#39;medchecklogo.png&#39;) }}&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-inline-block align-top&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
    <span class="n">MedCheck</span>
  <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">button</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-toggler&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">toggle</span><span class="o">=</span><span class="s2">&quot;collapse&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#navbarText&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">controls</span><span class="o">=</span><span class="s2">&quot;navbarText&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">expanded</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Toggle navigation&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-toggler-icon&quot;</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;collapse navbar-collapse&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;navbarText&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ul</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-nav mr-auto&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item {</span><span class="si">% i</span><span class="s2">f url_for(&#39;home_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;home_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Home</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item {</span><span class="si">% i</span><span class="s2">f url_for(&#39;admin_places_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;admin_places_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Places</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>

      <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item {</span><span class="si">% i</span><span class="s2">f url_for(&#39;admin_hospitals_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;admin_hospitals_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Hospitals</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item {</span><span class="si">% i</span><span class="s2">f url_for(&#39;admin_humans_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;admin_humans_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Humans</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item {</span><span class="si">% i</span><span class="s2">f url_for(&#39;how_to_use_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;how_to_use_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">How</span> <span class="n">to</span> <span class="n">Use</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item {</span><span class="si">% i</span><span class="s2">f url_for(&#39;login_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;login_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Log</span> <span class="ow">in</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item  {</span><span class="si">% i</span><span class="s2">f url_for(&#39;register_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;register_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Register</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-item {</span><span class="si">% i</span><span class="s2">f url_for(&#39;hospital_patient_page&#39;) == url_for(request.endpoint) %}active{</span><span class="si">% e</span><span class="s2">ndif %}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">a</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nav-link&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;hospital_patient_page&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Hospital</span> <span class="k">for</span> <span class="n">Patient</span> <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-text &quot;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;margin-right: 20px&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="o">&gt;</span><span class="n">Profile</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;navbar-text&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;logout&#39;) }}&quot;</span><span class="o">&gt;</span><span class="n">Logout</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">nav</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This page shows which sections admin can access. doctor_navbar.html and normal_navbar have limited authority compared to admin.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">hospitals</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">hr</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">h4</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-center&quot;</span><span class="o">&gt;</span><span class="n">HOSPITALS</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">table</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;table table-hover table-inverse&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">thead</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;thead-inverse&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Name</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Address</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Rate</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Capacity</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Handicapped</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Park</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Options</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">thead</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">tbody</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">hospital</span> <span class="ow">in</span> <span class="n">hospitals</span> <span class="o">%</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="n">tr</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;tr_{{ hospital.id }}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">hospital</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">hospital</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">city</span> <span class="p">}}</span><span class="o">/</span><span class="p">{{</span> <span class="n">hospital</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">district</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">hospital</span><span class="o">.</span><span class="n">rate</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">hospital</span><span class="o">.</span><span class="n">capacity</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">hospital</span><span class="o">.</span><span class="n">handicapped</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">hospital</span><span class="o">.</span><span class="n">park</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">a</span> <span class="n">data</span><span class="o">-</span><span class="n">toggle</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">target</span><span class="o">=</span><span class="s2">&quot;#update_modal&quot;</span> <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;update_modal({{ hospital.id }});&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fa fa-edit&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;del_hospital&#39;, hospital_id = hospital.id) }}&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fa fa-trash-alt&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>

    <span class="o">&lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>sub_templates shows the result of search done according to doctor, place or human.</p>
</div>
<div class="section" id="code-implemented-by-emre">
<h2>Code implemented by Emre<a class="headerlink" href="#code-implemented-by-emre" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">DOCTORS</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">body</span> <span class="o">%</span><span class="p">}</span>

        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">h4</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-center&quot;</span><span class="o">&gt;</span><span class="n">ADD</span> <span class="n">HUMAN</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">hr</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;add_human&#39;) }}&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;doctor_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Name</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;doctor_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;doctor_name&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Canan&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;doctor_surname&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Surname</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;doctor_surname&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;doctor_surname&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Karatay&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;doctor_tc&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">TC</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;doctor_tc&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;doctor_tc&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Must be legit TC no&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;doctor_password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Password</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;doctor_password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;doctor_password&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Password assigned to the doctor&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;doctor_email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">E</span><span class="o">-</span><span class="n">mail</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;doctor_email&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;doctor_email&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Will be used to contact&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;authorize_select&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Authorize</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;authorize_select&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;authorize_select&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span><span class="o">&gt;</span><span class="n">Admin</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;doctor&quot;</span> <span class="n">selected</span><span class="o">&gt;</span><span class="n">Doctor</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="o">&gt;</span><span class="n">Normal</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;city_select_add&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">City</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;city_select_add&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;city_select_add&quot;</span><span class="o">&gt;</span>
                                                                <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">cities</span> <span class="o">%</span><span class="p">}</span>
                                                                         <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ city }}&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">city</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>

                                                <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;district_select_add&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">District</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;district_select_add&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;district_select_add&quot;</span><span class="o">&gt;</span>
                                                                 <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span><span class="n">Choose</span> <span class="n">a</span> <span class="n">City</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row doctor_div&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;hospital_select_add&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Hospital</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;hospital_select_add&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;hospital_select_add&quot;</span><span class="o">&gt;</span>
                                                                 <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span><span class="n">Choose</span> <span class="n">a</span> <span class="n">Hospital</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row doctor_div&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2&quot;</span><span class="o">&gt;</span><span class="n">Workdays</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-input&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Monday&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                        <span class="n">Monday</span>
                                                                <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-input&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Tuesday&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                        <span class="n">Tuesday</span>
                                                                <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-input&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Wednesday&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                        <span class="n">Wednesday</span>
                                                                <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-input&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Thursday&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                        <span class="n">Thursday</span>
                                                                <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-input&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Friday&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                        <span class="n">Friday</span>
                                                                <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-input&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Saturday&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                        <span class="n">Saturday</span>
                                                                <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-input&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Sunday&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-check-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;gridCheck1&quot;</span><span class="o">&gt;</span>
                                                                        <span class="n">Sunday</span>
                                                                <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;hebe&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Add</span> <span class="n">Doctor</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">h4</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-center&quot;</span><span class="o">&gt;</span><span class="n">FILTER</span> <span class="n">HUMAN</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">hr</span><span class="o">&gt;</span>

                                        <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;filter_human_form&quot;</span> <span class="n">action_url</span><span class="o">=</span><span class="s2">&quot;{{url_for(&#39;filter_human_ajax&#39;)}}&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;city_select_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">City</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;city_select_filter&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;city_select_filter&quot;</span><span class="o">&gt;</span>
                                                                <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">cities</span> <span class="o">%</span><span class="p">}</span>
                                                                         <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ city }}&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">city</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>

                                                <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;district_select_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">District</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;district_select_filter&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;district_select_filter&quot;</span><span class="o">&gt;</span>
                                                                 <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span><span class="n">Choose</span> <span class="n">a</span> <span class="n">District</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>



                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;human_name_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Name</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;human_name_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;human_name_filter&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Canan&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;human_surname_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Surname</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;human_surname_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;human_surname_filter&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Karatay&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;human_mail_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Email</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;human_mail_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;human_mail_filter&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;authorize_select_filter&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Authorize</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;authorize_select_filter&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;authorize_select_filter&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span><span class="o">&gt;</span><span class="n">Admin</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;doctor&quot;</span> <span class="n">selected</span><span class="o">&gt;</span><span class="n">Doctor</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="o">&gt;</span><span class="n">Normal</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-10&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;filter_human_button&quot;</span> <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;filter_humans();&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-danger&quot;</span><span class="o">&gt;</span><span class="n">Get</span> <span class="n">humans</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;modal fade&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;update_modal&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">backdrop</span><span class="o">=</span><span class="s2">&quot;static&quot;</span> <span class="n">tabindex</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;dialog&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">labelledby</span><span class="o">=</span><span class="s2">&quot;update_modal_label&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;modal-dialog&quot;</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;document&quot;</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;modal_update_form&quot;</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;update_human&#39;, human_tc=0) }}&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;modal-content&quot;</span><span class="o">&gt;</span>
                          <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;modal-header&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;modal-title&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;update_modal_label&quot;</span><span class="o">&gt;</span><span class="n">UPDATE</span> <span class="n">HUMAN</span><span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;close&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span> <span class="n">aria</span><span class="o">-</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="o">&gt;</span>
                                  <span class="o">&lt;</span><span class="n">span</span> <span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;&amp;</span><span class="n">times</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                          <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;modal-body&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;modal_human_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Name</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modal_human_name&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;modal_human_name&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;modal_human_surname&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Surname</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modal_human_surname&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;modal_human_surname&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;modal_city_select&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">City</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modal_city_select&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;modal_city_select&quot;</span><span class="o">&gt;</span>
                                                                <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">cities</span> <span class="o">%</span><span class="p">}</span>
                                                                         <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ city }}&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">city</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>

                                                <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;modal_district_select&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">District</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modal_district_select&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;modal_district_select&quot;</span><span class="o">&gt;</span>
                                                                 <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span><span class="n">Choose</span> <span class="n">a</span> <span class="n">City</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group row&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;modal_human_mail&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Email</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modal_human_mail&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;modal_human_mail&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                                <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;modal_authorize_select&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-2 col-form-label&quot;</span><span class="o">&gt;</span><span class="n">Authorize</span><span class="p">:</span> <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;col-sm-4&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modal_authorize_select&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;modal_authorize_select&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span><span class="o">&gt;</span><span class="n">Admin</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;doctor&quot;</span> <span class="n">selected</span><span class="o">&gt;</span><span class="n">Doctor</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="o">&gt;</span><span class="n">Normal</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                          <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;modal-footer&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-secondary&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">dismiss</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span><span class="n">Close</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn btn-primary&quot;</span><span class="o">&gt;</span><span class="n">Update</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                  <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                  <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>


                <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;human-table&quot;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>


<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">JS</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>admin_humans page like any other admin pages, have the authority to add new members and filter humans.
admin_places.html and admin_hospitals.html work with the same logic. They all extend from base.html</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;title&gt;403 FORBIDDEN&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;You don&#39;t have permission to access!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<p>403.html file is shown to user whenever they tried to access to page that they are not authorized. This works even user tries access the specific address using via internet address.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">How</span> <span class="n">to</span> <span class="n">Use</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">body</span> <span class="o">%</span><span class="p">}</span>


        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;</span>

                <span class="o">&lt;</span><span class="n">h4</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;text-center&quot;</span><span class="o">&gt;</span><span class="n">Instructions</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;static&#39;, filename = &#39;howto.png&#39;) }}&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;985&quot;</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;902&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-inline-block align-top&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;How to instructions&quot;</span><span class="o">&gt;</span>


        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>This page shows users how to use the application. howto.png file guides through the process of registering to the system, signing in and taking an appointment.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;base.html&#39;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">title</span> <span class="o">%</span><span class="p">}</span><span class="n">Log</span> <span class="n">In</span><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">body</span> <span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&quot;stylesheet&quot;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;../static/css/login_page.css&quot;</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;container h-100&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-center h-100&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;user_card&quot;</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-center&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;brand_logo_container&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;../static/medchecklogo.png&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;brand_logo&quot;</span> <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Logo&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-center form_container&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;{{ url_for(&#39;login&#39;)}}&quot;</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;input-group mb-3&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;input-group-append&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;input-group-text&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fas fa-user&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tc&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control input_user&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Social Security Number&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;input-group mb-2&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;input-group-append&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">span</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;input-group-text&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fas fa-key&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control input_pass&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;password&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-group&quot;</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;custom-control custom-checkbox&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;custom-control-input&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;customControlInline&quot;</span><span class="o">&gt;</span>
                                                                <span class="o">&lt;</span><span class="n">label</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;custom-control-label&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;customControlInline&quot;</span><span class="o">&gt;</span><span class="n">Remember</span> <span class="n">me</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-center mt-3 login_container&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;btn login_btn&quot;</span><span class="o">&gt;</span><span class="n">Login</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
                                   <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

                                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mt-4&quot;</span><span class="o">&gt;</span>
                                        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;d-flex justify-content-center links&quot;</span><span class="o">&gt;</span>
                                                <span class="n">Don</span><span class="s1">&#39;t have an account? &lt;a href=&quot;{{ url_for(&#39;</span><span class="n">register_page</span><span class="s1">&#39;) }}&quot; class=&quot;ml-2&quot;&gt;Sign Up&lt;/a&gt;</span>
                                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>Log in page welcomes user if he is not recognized. Has a link to register page in case user is not registered to the system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>{% extends &#39;base.html&#39; %}

{% block title %}Register{% endblock %}

{% block body %}


    &lt;div class=&quot;container&quot;&gt;
        &lt;br&gt;
        &lt;h4 class=&quot;text-center&quot;&gt;Welcome&lt;/h4&gt;
                &lt;form method=&quot;POST&quot; action=&quot;/add_person&quot;&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;label for=&quot;doctor_name&quot; class=&quot;col-sm-2 col-form-label&quot;&gt;Name:&lt;/label&gt;
                        &lt;div class=&quot;col-sm-10&quot;&gt;
                            &lt;input type=&quot;text&quot; name=&quot;name&quot; class=&quot;form-control&quot; id=&quot;doctor_name&quot; placeholder=&quot;Mehmet&quot;&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;label for=&quot;doctor_select&quot; class=&quot;col-sm-2 col-form-label&quot;&gt;Surname: &lt;/label&gt;
                        &lt;div class=&quot;col-sm-10&quot;&gt;
                            &lt;input type=&quot;text&quot; name=&quot;surname&quot; class=&quot;form-control&quot; id=&quot;doctor_name&quot; placeholder=&quot;Yıldız&quot;&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;label for=&quot;doctor_select&quot; class=&quot;col-sm-2 col-form-label&quot;&gt;TC: &lt;/label&gt;
                        &lt;div class=&quot;col-sm-10&quot;&gt;
                            &lt;input type=&quot;text&quot; name=&quot;tc&quot; class=&quot;form-control&quot; id=&quot;doctor_name&quot; placeholder=&quot;Must be legit TC no&quot;&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;label for=&quot;doctor_select&quot; class=&quot;col-sm-2 col-form-label&quot;&gt;E-mail: &lt;/label&gt;
                        &lt;div class=&quot;col-sm-10&quot;&gt;
                            &lt;input type=&quot;text&quot; name=&quot;email&quot; class=&quot;form-control&quot; id=&quot;doctor_name&quot; placeholder=&quot;Will be used to contact&quot;&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;label for=&quot;city_select&quot; class=&quot;col-sm-2 col-form-label&quot;&gt;City: &lt;/label&gt;
                        &lt;div class=&quot;col-sm-4&quot;&gt;
                            &lt;select class=&quot;form-control&quot; name=&quot;city_select&quot; id=&quot;city_select&quot;&gt;
                                {% for city in cities %}
                                     &lt;option value=&quot;{{ city }}&quot;&gt;{{ city }}&lt;/option&gt;
                                {% endfor %}

                        &lt;/select&gt;
                        &lt;/div&gt;

                        &lt;label for=&quot;district_select&quot; class=&quot;col-sm-2 col-form-label&quot;&gt;District: &lt;/label&gt;
                        &lt;div class=&quot;col-sm-4&quot;&gt;
                            &lt;select class=&quot;form-control&quot; name=&quot;district_select&quot; id=&quot;district_select&quot;&gt;
                                 &lt;option value=&quot;&quot;&gt;Choose a District&lt;/option&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;label for=&quot;doctor_select&quot; class=&quot;col-sm-2 col-form-label&quot;&gt;Password: &lt;/label&gt;
                        &lt;div class=&quot;col-sm-10&quot;&gt;
                            &lt;input type=&quot;text&quot; name=&quot;password&quot; class=&quot;form-control&quot; id=&quot;doctor_name&quot; placeholder=&quot;Declare a password&quot;&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;div class=&quot;col-sm-10&quot;&gt;
                            &lt;button type=&quot;submit&quot; id=&quot;hebe&quot; class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
            &lt;/div&gt;


{% endblock %}

{% block JS %}
&lt;script&gt;

$(document).ready(function() {


    $(&#39;#city_select&#39;).change(function () {

        var url = &quot;/get_districts&quot;;
        var city_name = $(this).val();
        $.ajax({
            type: &#39;POST&#39;,
            url: url,
            data: {
                &#39;city_name&#39;: city_name
            },
            success: function (data) {
                $(&#39;#district_select&#39;).html(data);
            }
        });
    });
});

&lt;/script&gt;
{% endblock %}
</pre></div>
</div>
<p>Register page allows new users to register to system. Ajax is used to extract district information from selected city.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../user/index.html" class="btn btn-neutral float-left" title="User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012, ITUCSDB1952

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>